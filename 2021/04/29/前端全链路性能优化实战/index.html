<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>前端全链路性能优化实战 | 月亮的部落格</title><meta name="description" content="第一章 课程背景介绍 1 课程介绍 1-1 什么是前端性能优化? 1-2 学习前端性能优化的难点在哪里?   2 内容综述 2-1 六大部分     第二章 静态资源优化 3 图片优化: 如何为不同格式的图片选择合适的应用场景 3-1 图片格式和应用场景介绍   4 图片优化: 怎样让图片加载得更快? 4-1 用工具进行图片压缩 4-1-1压缩png 4-1-2 压缩jpg 4-1-3 压缩gi"><meta property="og:type" content="article"><meta property="og:title" content="前端全链路性能优化实战"><meta property="og:url" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/index.html"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="第一章 课程背景介绍 1 课程介绍 1-1 什么是前端性能优化? 1-2 学习前端性能优化的难点在哪里?   2 内容综述 2-1 六大部分     第二章 静态资源优化 3 图片优化: 如何为不同格式的图片选择合适的应用场景 3-1 图片格式和应用场景介绍   4 图片优化: 怎样让图片加载得更快? 4-1 用工具进行图片压缩 4-1-1压缩png 4-1-2 压缩jpg 4-1-3 压缩gi"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/01.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/02.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/03.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/04.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/05.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/06.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/07.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/08.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/09.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/10.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/11.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/12.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/13.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/14.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/15.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/16.jpg"><meta property="og:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/17.jpg"><meta property="article:published_time" content="2021-04-29T08:09:09.000Z"><meta property="article:modified_time" content="2021-05-10T08:12:30.730Z"><meta property="article:author" content="John Doe"><meta property="article:tag" content="性能优化"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/01.jpg"><link rel="canonical" href="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/index.html"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 5.4.0"></head><body class="main-center" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/scarlett9354" target="_blank"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">月亮和水蜜桃</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> 北京</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="搜索"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav menu-highlight"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">首页</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">归档</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">分类</span></a></li><li class="menu-item menu-item-tags"><a href="/tags"><i class="icon icon-tags"></i> <span class="menu-title">标签</span></a></li><li class="menu-item menu-item-repository"><a href="/repository"><i class="icon icon-project"></i> <span class="menu-title">项目</span></a></li><li class="menu-item menu-item-books"><a href="/books"><i class="icon icon-book-fill"></i> <span class="menu-title">书单</span></a></li><li class="menu-item menu-item-links"><a href="/links"><i class="icon icon-friendship"></i> <span class="menu-title">友链</span></a></li><li class="menu-item menu-item-about"><a href="/about"><i class="icon icon-cup-fill"></i> <span class="menu-title">关于</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/scarlett9354" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">公告</h3><div class="widget-body"><div id="board"><div class="content"><p>欢迎交流与分享经验!</p></div></div></div></div><div class="widget"><h3 class="widget-title">分类</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ES6-7/">ES6-7</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTTP/">HTTP</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Node-js/">Node.js</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/React/">React</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TypeScript/">TypeScript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/">Vue</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack/">webpack</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E4%BD%9C%E7%9B%B8%E5%85%B3/">工作相关</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">性能优化</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span class="category-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签</h3><div class="widget-body"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/" rel="tag">ES6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES7/" rel="tag">ES7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/" rel="tag">Node.js</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-Hook/" rel="tag">React Hook</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React16-4/" rel="tag">React16.4</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/" rel="tag">http</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/https/" rel="tag">https</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue-router/" rel="tag">vue-router</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuex/" rel="tag">vuex</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="tag">性能优化</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签云</h3><div class="widget-body tagcloud"><a href="/tags/ES6/" style="font-size:13px">ES6</a> <a href="/tags/ES7/" style="font-size:13px">ES7</a> <a href="/tags/Node-js/" style="font-size:13px">Node.js</a> <a href="/tags/React/" style="font-size:14px">React</a> <a href="/tags/React-Hook/" style="font-size:13.33px">React Hook</a> <a href="/tags/React16-4/" style="font-size:13px">React16.4</a> <a href="/tags/TypeScript/" style="font-size:13.67px">TypeScript</a> <a href="/tags/http/" style="font-size:13px">http</a> <a href="/tags/https/" style="font-size:13px">https</a> <a href="/tags/vue/" style="font-size:13.33px">vue</a> <a href="/tags/vue-router/" style="font-size:13px">vue-router</a> <a href="/tags/vuex/" style="font-size:13px">vuex</a> <a href="/tags/webpack/" style="font-size:13.33px">webpack</a> <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size:13px">性能优化</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size:13px">算法</a></div></div><div class="widget"><h3 class="widget-title">归档</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">7</span></li></ul></div></div><div class="widget"><h3 class="widget-title">最新文章</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/React/">React</a></p><p class="item-title"><a href="/2021/08/23/React17-ReactHook-TS4%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%EF%BC%8C%E4%BB%BFJira%E4%BC%81%E4%B8%9A%E7%BA%A7%E9%A1%B9%E7%9B%AE-%E4%BA%8C/" class="title">React17+React Hook+TS4 最佳实践，仿 Jira 企业级项目(二)</a></p><p class="item-date"><time datetime="2021-08-23T09:02:26.000Z" itemprop="datePublished">2021-08-23</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></p><p class="item-title"><a href="/2021/08/20/%E5%89%8D%E7%AB%AFLeetCode%E9%A2%98%E7%9B%AE/" class="title">前端LeetCode题目</a></p><p class="item-date"><time datetime="2021-08-20T02:57:23.000Z" itemprop="datePublished">2021-08-20</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/React/">React</a></p><p class="item-title"><a href="/2021/07/27/React17-ReactHook-TS4%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%EF%BC%8C%E4%BB%BFJira%E4%BC%81%E4%B8%9A%E7%BA%A7%E9%A1%B9%E7%9B%AE-%E4%B8%80/" class="title">React17+React Hook+TS4 最佳实践，仿 Jira 企业级项目(一)</a></p><p class="item-date"><time datetime="2021-07-27T02:10:59.000Z" itemprop="datePublished">2021-07-27</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E5%B7%A5%E4%BD%9C%E7%9B%B8%E5%85%B3/">工作相关</a></p><p class="item-title"><a href="/2021/06/25/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95/" class="title">工作记录</a></p><p class="item-date"><time datetime="2021-06-25T07:05:07.000Z" itemprop="datePublished">2021-06-25</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/ES6-7/">ES6-7</a></p><p class="item-title"><a href="/2021/06/25/ES6%E7%B2%BE%E8%AE%B2/" class="title">ES6精讲</a></p><p class="item-date"><time datetime="2021-06-25T07:00:00.000Z" itemprop="datePublished">2021-06-25</time></p></div></li></ul></div></div></div></aside><main class="main" role="main"><div class="content"><article id="post-前端全链路性能优化实战" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">前端全链路性能优化实战</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/" class="article-date"><time datetime="2021-04-29T08:09:09.000Z" itemprop="datePublished">2021-04-29</time> </a></span><span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">性能优化</a> </span><span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link-link" href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="tag">性能优化</a> </span><span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/#comments" class="article-comment-link">评论</a></span></div></div><div class="article-entry marked-body" itemprop="articleBody"><ul><li><a href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E8%AF%BE%E7%A8%8B%E8%83%8C%E6%99%AF%E4%BB%8B%E7%BB%8D">第一章 课程背景介绍</a><ul><li><a href="#1-%E8%AF%BE%E7%A8%8B%E4%BB%8B%E7%BB%8D">1 课程介绍</a><ul><li><a href="#1-1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96">1-1 什么是前端性能优化?</a></li><li><a href="#1-2-%E5%AD%A6%E4%B9%A0%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%9A%84%E9%9A%BE%E7%82%B9%E5%9C%A8%E5%93%AA%E9%87%8C">1-2 学习前端性能优化的难点在哪里?</a></li></ul></li><li><a href="#2-%E5%86%85%E5%AE%B9%E7%BB%BC%E8%BF%B0">2 内容综述</a><ul><li><a href="#2-1-%E5%85%AD%E5%A4%A7%E9%83%A8%E5%88%86">2-1 六大部分</a></li></ul></li></ul></li><li><a href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E4%BC%98%E5%8C%96">第二章 静态资源优化</a><ul><li><a href="#3-%E5%9B%BE%E7%89%87%E4%BC%98%E5%8C%96-%E5%A6%82%E4%BD%95%E4%B8%BA%E4%B8%8D%E5%90%8C%E6%A0%BC%E5%BC%8F%E7%9A%84%E5%9B%BE%E7%89%87%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">3 图片优化: 如何为不同格式的图片选择合适的应用场景</a><ul><li><a href="#3-1-%E5%9B%BE%E7%89%87%E6%A0%BC%E5%BC%8F%E5%92%8C%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%E4%BB%8B%E7%BB%8D">3-1 图片格式和应用场景介绍</a></li></ul></li><li><a href="#4-%E5%9B%BE%E7%89%87%E4%BC%98%E5%8C%96-%E6%80%8E%E6%A0%B7%E8%AE%A9%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E5%BE%97%E6%9B%B4%E5%BF%AB">4 图片优化: 怎样让图片加载得更快?</a><ul><li><a href="#4-1-%E7%94%A8%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9">4-1 用工具进行图片压缩</a><ul><li><a href="#4-1-1%E5%8E%8B%E7%BC%A9png">4-1-1压缩png</a></li><li><a href="#4-1-2-%E5%8E%8B%E7%BC%A9jpg">4-1-2 压缩jpg</a></li><li><a href="#4-1-3-%E5%8E%8B%E7%BC%A9gif">4-1-3 压缩gif</a></li></ul></li><li><a href="#4-2-%E5%9B%BE%E7%89%87%E5%B0%BA%E5%AF%B8%E9%9A%8F%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83%E5%8F%98%E5%8C%96">4-2 图片尺寸随网络环境变化</a></li><li><a href="#4-3-%E5%93%8D%E5%BA%94%E5%BC%8F%E5%9B%BE%E7%89%87">4-3 响应式图片</a></li><li><a href="#4-4-%E9%80%90%E6%AD%A5%E5%8A%A0%E8%BD%BD%E5%9B%BE%E5%83%8F">4-4 逐步加载图像</a><ul><li><a href="#4-4-1-%E4%BD%BF%E7%94%A8%E7%BB%9F%E4%B8%80%E5%8D%A0%E4%BD%8D%E7%AC%A6">4-4-1 使用统一占位符</a></li><li><a href="#4-4-2-%E4%BD%BF%E7%94%A8lqip-low-quality-image-placeholders-%E4%BD%8E%E8%B4%A8%E9%87%8F%E5%9B%BE%E5%83%8F%E5%8D%A0%E4%BD%8D%E7%AC%A6">4-4-2 使用lqip (low quality image placeholders, 低质量图像占位符)</a></li><li><a href="#4-4-3-%E4%BD%BF%E7%94%A8sqip-svg-quality-image-placeholders-%E5%9F%BA%E4%BA%8Esvg%E7%9A%84%E5%9B%BE%E5%83%8F%E5%8D%A0%E4%BD%8D%E7%AC%A6">4-4-3 使用sqip (svg quality image placeholders, 基于svg的图像占位符)</a></li></ul></li><li><a href="#4-5-%E7%9C%9F%E7%9A%84%E9%9C%80%E8%A6%81%E5%9B%BE%E7%89%87%E5%90%97">4-5 真的需要图片吗?</a></li></ul></li><li><a href="#5-%E5%9B%BE%E7%89%87%E4%BC%98%E5%8C%96-%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E8%BF%9B%E8%A1%8C%E5%9B%BE%E7%89%87%E8%87%AA%E5%8A%A8%E4%BC%98%E5%8C%96%E7%9A%84%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88">5 图片优化: 在服务器端进行图片自动优化的原理是什么?</a><ul><li><a href="#5-1-%E5%9B%BE%E7%89%87%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%87%AA%E5%8A%A8%E4%BC%98%E5%8C%96%E8%A7%A3%E5%AF%86">5-1 图片服务器自动优化解密</a></li></ul></li><li><a href="#6-html-%E6%80%8E%E4%B9%88%E7%B2%BE%E7%AE%80%E4%BC%98%E5%8C%96html%E7%9A%84%E4%BB%A3%E7%A0%81%E7%BB%93%E6%9E%84">6 html: 怎么精简优化html的代码结构?</a><ul><li><a href="#6-1-%E7%B2%BE%E7%AE%80html%E4%BB%A3%E7%A0%81">6-1 精简html代码</a></li><li><a href="#6-2-%E6%96%87%E4%BB%B6%E6%94%BE%E5%9C%A8%E5%90%88%E9%80%82%E7%9A%84%E4%BD%8D%E7%BD%AE">6-2 文件放在合适的位置</a></li><li><a href="#6-3-%E5%A2%9E%E5%BC%BA%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C">6-3 增强用户体验</a></li></ul></li><li><a href="#7-css-css%E7%9A%84%E4%BC%98%E5%8C%96%E5%BA%94%E8%AF%A5%E9%81%B5%E5%BE%AA%E5%93%AA%E4%BA%9B%E5%8E%9F%E5%88%99">7 css: css的优化应该遵循哪些原则?</a><ul><li><a href="#7-1-%E6%8F%90%E5%8D%87css%E6%B8%B2%E6%9F%93%E6%80%A7%E8%83%BD">7-1 提升css渲染性能</a></li><li><a href="#7-2-%E5%90%88%E9%80%82%E4%BD%BF%E7%94%A8css%E9%80%89%E6%8B%A9%E5%99%A8">7-2 合适使用css选择器</a></li><li><a href="#7-3-%E6%8F%90%E5%8D%87css%E6%96%87%E4%BB%B6%E5%8A%A0%E8%BD%BD%E6%80%A7%E8%83%BD">7-3 提升css文件加载性能</a></li><li><a href="#7-4-%E7%B2%BE%E7%AE%80css%E4%BB%A3%E7%A0%81">7-4 精简css代码</a></li><li><a href="#7-5-%E5%90%88%E7%90%86%E4%BD%BF%E7%94%A8web-fonts">7-5 合理使用web fonts</a></li><li><a href="#7-6-css%E5%8A%A8%E7%94%BB%E4%BC%98%E5%8C%96">7-6 css动画优化</a></li></ul></li><li><a href="#8-javascript-%E5%A6%82%E4%BD%95%E6%8F%90%E5%8D%87js%E7%9A%84%E6%89%A7%E8%A1%8C%E6%95%88%E7%8E%87">8 javascript: 如何提升js的执行效率?</a><ul><li><a href="#8-1-js%E4%BC%98%E5%8C%96%E7%9A%84%E6%80%BB%E4%BD%93%E5%8E%9F%E5%88%99">8-1 js优化的总体原则</a></li><li><a href="#8-2-%E6%8F%90%E5%8D%87js%E6%96%87%E4%BB%B6%E7%9A%84%E5%8A%A0%E8%BD%BD%E6%80%A7%E8%83%BD">8-2 提升js文件的加载性能</a></li><li><a href="#8-3-js%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BC%98%E5%8C%96">8-3 js变量和函数的优化</a></li><li><a href="#8-4-js%E5%8A%A8%E7%94%BB%E4%BC%98%E5%8C%96">8-4 js动画优化</a></li><li><a href="#8-5-%E5%90%88%E7%90%86%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98">8-5 合理使用缓存</a></li></ul></li><li><a href="#9-javascript-%E5%A6%82%E4%BD%95%E5%AF%B9js%E7%9A%84%E7%BC%93%E5%AD%98%E8%BF%9B%E8%A1%8C%E4%BC%98%E5%8C%96">9 javascript: 如何对js的缓存进行优化?</a><ul><li><a href="#9-1-cookie">9-1 cookie</a></li><li><a href="#9-2-session-storage">9-2 session storage</a></li><li><a href="#9-3-indexed-db">9-3 indexed db</a></li><li><a href="#9-4-local-storage">9-4 local storage</a></li></ul></li><li><a href="#10-javascript-%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8C%96%E5%8A%A0%E8%BD%BD%E6%96%B9%E6%A1%88">10 javascript: 如何选择合适的模块化加载方案?</a><ul><li><a href="#10-1-js%E6%A8%A1%E5%9D%97%E5%8C%96%E5%8A%A0%E8%BD%BD%E6%96%B9%E6%A1%88%E5%92%8C%E9%80%89%E5%9E%8B">10-1 js模块化加载方案和选型</a><ul><li><a href="#10-1-1-commonjs">10-1-1 commonjs</a></li><li><a href="#10-1-2-amd-asynchronous-module-definition">10-1-2 amd (asynchronous module definition)</a></li><li><a href="#10-1-3-cmd-common-module-definition">10-1-3 cmd (common module definition)</a></li><li><a href="#10-1-4-es6-import">10-1-4 es6 import</a></li></ul></li></ul></li><li><a href="#11-%E6%80%8E%E6%A0%B7%E6%89%8D%E8%83%BD%E5%87%8F%E5%B0%91%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%9B%9E%E6%B5%81%E5%92%8C%E9%87%8D%E7%BB%98">11 怎样才能减少浏览器的回流和重绘?</a><ul><li><a href="#11-1-css%E6%96%B9%E9%9D%A2">11-1 css方面</a></li><li><a href="#11-2-js%E6%96%B9%E9%9D%A2">11-2 js方面</a></li></ul></li><li><a href="#12-dom%E7%BC%96%E7%A8%8B%E4%BC%98%E5%8C%96-%E6%80%8E%E6%A0%B7%E6%8E%A7%E5%88%B6dom%E5%A4%A7%E5%B0%8F%E5%B9%B6%E7%AE%80%E5%8C%96dom%E6%93%8D%E4%BD%9C">12 dom编程优化: 怎样控制dom大小并简化dom操作?</a><ul><li><a href="#12-1-%E6%8E%A7%E5%88%B6dom%E7%9A%84%E5%A4%A7%E5%B0%8F">12-1 控制dom的大小</a></li><li><a href="#12-2-%E7%AE%80%E5%8C%96dom%E7%9A%84%E6%93%8D%E4%BD%9C">12-2 简化dom的操作</a></li></ul></li><li><a href="#13-%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6-%E6%9C%89%E5%93%AA%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9A%84%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7">13 静态文件: 有哪些常用的压缩工具?</a><ul><li><a href="#13-1-html%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7">13-1 html压缩工具</a></li><li><a href="#13-2-css%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7">13-2 css压缩工具</a></li><li><a href="#13-3-js%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7">13-3 js压缩工具</a></li></ul></li><li><a href="#14-%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6-%E6%80%8E%E6%A0%B7%E6%89%93%E5%8C%85%E6%89%8D%E6%9B%B4%E5%90%88%E7%90%86">14 静态文件: 怎样打包才更合理?</a><ul><li><a href="#14-1-%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E6%89%93%E5%8C%85%E6%96%B9%E6%A1%88">14-1 静态文件打包方案</a></li></ul></li><li><a href="#15-%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6-%E7%89%88%E6%9C%AC%E5%8F%B7%E6%9B%B4%E6%96%B0-%E4%BD%A0%E5%BA%94%E8%AF%A5%E9%81%B5%E5%BE%AA%E5%93%AA%E4%BA%9B%E7%AD%96%E7%95%A5">15 静态文件: 版本号更新, 你应该遵循哪些策略?</a><ul><li><a href="#15-1-%E7%BC%93%E5%AD%98%E6%9B%B4%E6%96%B0">15-1 缓存更新</a></li><li><a href="#15-2-%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E7%89%88%E6%9C%AC%E5%8F%B7%E6%9B%B4%E6%96%B0%E7%AD%96%E7%95%A5">15-2 静态文件版本号更新策略</a></li></ul></li><li><a href="#16-%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7-%E5%B8%B8%E7%94%A8%E7%9A%84%E5%89%8D%E7%AB%AF%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E6%9C%89%E5%93%AA%E4%BA%9B-%E5%A6%82%E4%BD%95%E9%80%89%E5%9E%8B">16 构建工具: 常用的前端构建工具有哪些? 如何选型?</a><ul><li><a href="#16-1-grunt">16-1 grunt</a></li><li><a href="#16-2-gulp">16-2 gulp</a></li><li><a href="#16-3-webpack">16-3 webpack</a></li><li><a href="#16-4-%E7%99%BE%E5%BA%A6%E7%9A%84fis">16-4 百度的fis</a></li><li><a href="#16-5-%E4%BA%AC%E4%B8%9C%E7%9A%84jdf">16-5 京东的jdf</a></li></ul></li><li><a href="#17-%E6%89%93%E5%8C%85%E4%BC%98%E5%8C%96-%E6%8F%90%E5%8D%87webpack%E6%89%93%E5%8C%85%E6%95%88%E7%8E%87%E7%9A%846%E4%B8%AA%E5%B0%8F%E6%8A%80%E5%B7%A7">17 打包优化: 提升webpack打包效率的6个小技巧</a><ul><li><a href="#17-1-%E5%AE%9A%E4%BD%8D%E4%BD%93%E7%A7%AF%E5%A4%A7%E7%9A%84%E6%A8%A1%E5%9D%97">17-1 定位体积大的模块</a></li><li><a href="#17-2-%E5%88%A0%E9%99%A4%E6%B2%A1%E6%9C%89%E4%BD%BF%E7%94%A8%E7%9A%84%E4%BE%9D%E8%B5%96">17-2 删除没有使用的依赖</a></li><li><a href="#17-3-%E7%94%9F%E4%BA%A7%E6%A8%A1%E5%BC%8F%E8%BF%9B%E8%A1%8C%E5%85%AC%E5%85%B1%E4%BE%9D%E8%B5%96%E5%8C%85%E6%8A%BD%E7%A6%BB">17-3 生产模式进行公共依赖包抽离</a></li><li><a href="#17-4-%E5%9C%A8%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F%E8%BF%9B%E8%A1%8Cdll%E5%92%8Cdllreference%E6%96%B9%E5%BC%8F%E4%BC%98%E5%8C%96">17-4 在开发模式进行dll和dllreference方式优化</a></li></ul></li></ul></li><li><a href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96">第三章 页面渲染架构设计与性能优化</a><ul><li><a href="#18-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93-%E4%BD%A0%E6%98%AF%E5%90%A6%E6%B8%85%E6%A5%9A%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B">18 浏览器渲染: 你是否清楚浏览器的渲染过程?</a></li><li><a href="#19-%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93-%E4%B8%BB%E6%B5%81%E7%9A%84%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84%E5%92%8C%E6%96%B9%E6%A1%88%E6%9C%89%E5%93%AA%E4%BA%9B">19 页面渲染: 主流的页面渲染技术架构和方案有哪些?</a><ul><li><a href="#19-1-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93">19-1 服务端渲染</a></li><li><a href="#19-2-%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%B2%E6%9F%93">19-2 客户端渲染</a></li></ul></li><li><a href="#20-%E5%90%8E%E7%AB%AF%E5%90%8C%E6%AD%A5%E6%B8%B2%E6%9F%93-jsp%E6%98%AF%E5%A6%82%E4%BD%95%E5%90%8C%E6%AD%A5%E6%B8%B2%E6%9F%93%E5%87%BA%E9%A1%B5%E9%9D%A2%E7%9A%84">20 后端同步渲染: jsp是如何同步渲染出页面的?</a><ul><li><a href="#20-1-%E5%90%8C%E6%AD%A5%E6%B8%B2%E6%9F%93%E6%AD%A5%E9%AA%A4-%E4%BB%A5jsp%E4%B8%BA%E4%BE%8B">20-1 同步渲染步骤 (以jsp为例)</a></li><li><a href="#20-2-%E6%8A%80%E6%9C%AF%E4%BC%98%E7%82%B9">20-2 技术优点</a></li><li><a href="#20-3-%E6%8A%80%E6%9C%AF%E4%B8%8D%E8%B6%B3">20-3 技术不足</a></li><li><a href="#20-4-%E5%8D%8F%E4%BD%9C%E6%96%B9%E5%BC%8F">20-4 协作方式</a></li><li><a href="#20-5-%E9%80%89%E5%9E%8B%E5%BB%BA%E8%AE%AE">20-5 选型建议</a></li><li><a href="#20-6-%E5%8D%8F%E4%BD%9C%E5%8A%9B%E5%99%A8">20-6 协作力器</a></li></ul></li><li><a href="#21-%E9%A1%B5%E9%9D%A2%E9%9D%99%E6%80%81%E5%8C%96-%E5%8A%A8%E6%80%81%E9%A1%B5%E9%9D%A2%E9%9D%99%E6%80%81%E5%8C%96%E8%A6%81%E5%A6%82%E4%BD%95%E5%AE%9E%E6%96%BD">21 页面静态化: 动态页面静态化要如何实施?</a><ul><li><a href="#21-1-%E9%9D%99%E6%80%81%E5%8C%96%E5%AE%9A%E4%B9%89">21-1 静态化定义</a></li></ul></li></ul></li></ul><h1 id="第一章-课程背景介绍"><a href="#第一章-课程背景介绍" class="headerlink" title="第一章 课程背景介绍"></a>第一章 课程背景介绍</h1><h2 id="1-课程介绍"><a href="#1-课程介绍" class="headerlink" title="1 课程介绍"></a>1 课程介绍</h2><h3 id="1-1-什么是前端性能优化"><a href="#1-1-什么是前端性能优化" class="headerlink" title="1-1 什么是前端性能优化?"></a>1-1 什么是前端性能优化?</h3><p style="text-indent:2em">通常来讲，我们说的前端性能优化是指从用户开始访问我们的网站到整个页面完整地展现出来的过程中，通过各种优化策略和优化方法，让页面加载得更快，让用户的操作相应更及时，给用户更好的使用体验。</p><h3 id="1-2-学习前端性能优化的难点在哪里"><a href="#1-2-学习前端性能优化的难点在哪里" class="headerlink" title="1-2 学习前端性能优化的难点在哪里?"></a>1-2 学习前端性能优化的难点在哪里?</h3><h2 id="2-内容综述"><a href="#2-内容综述" class="headerlink" title="2 内容综述"></a>2 内容综述</h2><h3 id="2-1-六大部分"><a href="#2-1-六大部分" class="headerlink" title="2-1 六大部分"></a>2-1 六大部分</h3><h1 id="第二章-静态资源优化"><a href="#第二章-静态资源优化" class="headerlink" title="第二章 静态资源优化"></a>第二章 静态资源优化</h1><h2 id="3-图片优化-如何为不同格式的图片选择合适的应用场景"><a href="#3-图片优化-如何为不同格式的图片选择合适的应用场景" class="headerlink" title="3 图片优化: 如何为不同格式的图片选择合适的应用场景"></a>3 图片优化: 如何为不同格式的图片选择合适的应用场景</h2><h3 id="3-1-图片格式和应用场景介绍"><a href="#3-1-图片格式和应用场景介绍" class="headerlink" title="3-1 图片格式和应用场景介绍"></a>3-1 图片格式和应用场景介绍</h3><ul><li><p>JPEG（Joint Photographic Experts Group）</p><img src="01.jpg" alt="01" style="zoom:80%"></li><li><p>PNG（Portable Network Graphics）</p><img src="02.jpg" alt="02" style="zoom:80%"></li><li><p>GIF（Graphics Interchange Format）</p><img src="03.jpg" alt="03" style="zoom:80%"></li><li><p>Webp</p><img src="04.jpg" alt="04" style="zoom:80%"></li></ul><h2 id="4-图片优化-怎样让图片加载得更快"><a href="#4-图片优化-怎样让图片加载得更快" class="headerlink" title="4 图片优化: 怎样让图片加载得更快?"></a>4 图片优化: 怎样让图片加载得更快?</h2><h3 id="4-1-用工具进行图片压缩"><a href="#4-1-用工具进行图片压缩" class="headerlink" title="4-1 用工具进行图片压缩"></a>4-1 用工具进行图片压缩</h3><h4 id="4-1-1压缩png"><a href="#4-1-1压缩png" class="headerlink" title="4-1-1压缩png"></a>4-1-1压缩png</h4><ul><li>node-pngquant-native 跨平台，压缩比高，压缩png24非常好</li><li>说明文档<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/node-pngquant-native">https://www.npmjs.com/package/node-pngquant-native</a></li><li>安装方法：<code>$ npm install node-pngquant-native</code></li><li>新建index.js如下，运行<code>$ node index.js</code>执行压缩，基本上能从300k压缩到50k：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var pngquant = require(&#x27;node-pngquant-native&#x27;)</span></span><br><span class="line"><span class="keyword">var</span> pngquant = <span class="built_in">require</span>(<span class="string">&#x27;jdf-png-native&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line">fs.readFile(<span class="string">&#x27;./in.png&#x27;</span>, <span class="function">(<span class="params">err, buffer</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// if(err) &#123;</span></span><br><span class="line">    <span class="comment">//   throw err</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="keyword">var</span> resBuffer = pngquant.option(&#123;&#125;).compress(buffer)</span><br><span class="line">    fs.writeFile(<span class="string">&#x27;./out.png&#x27;</span>, resBuffer, &#123;</span><br><span class="line">        flags: <span class="string">&#x27;wb&#x27;</span></span><br><span class="line">    &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h4 id="4-1-2-压缩jpg"><a href="#4-1-2-压缩jpg" class="headerlink" title="4-1-2 压缩jpg"></a>4-1-2 压缩jpg</h4><ul><li>jpegtran 跨平台，有Linux、Mac、Windows的解决方案</li><li><a target="_blank" rel="noopener" href="http://jpegclub.org/jpegtran/">官网</a></li><li>安装方法：<code>$ npm install -g jpegtran</code></li><li>使用方法：<code>$ jpegtran -copy none -optimize -outfile out.jpg in.jpg</code></li></ul><h4 id="4-1-3-压缩gif"><a href="#4-1-3-压缩gif" class="headerlink" title="4-1-3 压缩gif"></a>4-1-3 压缩gif</h4><ul><li>Gifsicle：通过改变每帧比例，减小gif文件大小，同时可以使用透明来达到更小的文件大小，目前公认的解决方案。</li><li>安装：<a target="_blank" rel="noopener" href="http://lcdf.org/gifsicle/">官网</a></li><li>使用方式：<br>优化级别设置为不小于2，1的话基本不压缩 <code>$ gifsicle --optimize=3 -o out.gif in.gif</code><br>将透明部分截去<code>$ gifsicle --optimize=3 --crop-transparency -o out.gif in.gif</code></li></ul><h3 id="4-2-图片尺寸随网络环境变化"><a href="#4-2-图片尺寸随网络环境变化" class="headerlink" title="4-2 图片尺寸随网络环境变化"></a>4-2 图片尺寸随网络环境变化</h3><p style="text-indent:2em">不同网络环境（Wifi/4G/3G）下，加载不同尺寸和像素的图片，通过在图片URL后缀加不同参数改变。</p><h3 id="4-3-响应式图片"><a href="#4-3-响应式图片" class="headerlink" title="4-3 响应式图片"></a>4-3 响应式图片</h3><p>​ 有以下三种方式实现：</p><ul><li>JavaScript绑定事件检测窗口大小，以设置图片大小</li><li>CSS媒体查询<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">640px</span>) &#123;</span><br><span class="line">  my_image &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">640px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>h5中img标签属性srcset<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">srcset</span>=<span class="string">&quot;img-320w.jpg, img-640w.jpg 2x, img-960w.jpg 3x&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">src</span>=<span class="string">&quot;img-960w.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;img&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>x描述符：表示图像的设备像素比</li></ul><h3 id="4-4-逐步加载图像"><a href="#4-4-逐步加载图像" class="headerlink" title="4-4 逐步加载图像"></a>4-4 逐步加载图像</h3><p>​ 共三种方式，来提高用户体验：</p><h4 id="4-4-1-使用统一占位符"><a href="#4-4-1-使用统一占位符" class="headerlink" title="4-4-1 使用统一占位符"></a>4-4-1 使用统一占位符</h4><p style="text-indent:2em">比如在每个图片后加个公司logo，使用户在图片加载前可以看到这个占位符的图像</p><h4 id="4-4-2-使用lqip-low-quality-image-placeholders-低质量图像占位符"><a href="#4-4-2-使用lqip-low-quality-image-placeholders-低质量图像占位符" class="headerlink" title="4-4-2 使用lqip (low quality image placeholders, 低质量图像占位符)"></a>4-4-2 使用lqip (low quality image placeholders, 低质量图像占位符)</h4><ul><li><p>使图片加载前让用户看到这个低质量图片的占位</p></li><li><p>安装：<code>$ npm install lqip</code></p></li><li><p>源码：<a target="_blank" rel="noopener" href="https://github.com/zouhir/lqip-loader">https://github.com/zouhir/lqip-loader</a></p></li><li><p>index.js中编码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lqip = <span class="built_in">require</span>(<span class="string">&#x27;lqip&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> file = <span class="string">&#x27;./in.png&#x27;</span></span><br><span class="line"><span class="comment">// image</span></span><br><span class="line">lqip.base64(file).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// color</span></span><br><span class="line">lqip.palette(file).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>打印结果为：</p><div><img src="05.jpg" alt="05" style="zoom:80%"></div>这样使用：<div><img src="06.jpg" alt="06" style="zoom:80%"></div>效果图对比如下：<div><img src="07.jpg" alt="07" style="zoom:80%"></div></li></ul><h4 id="4-4-3-使用sqip-svg-quality-image-placeholders-基于svg的图像占位符"><a href="#4-4-3-使用sqip-svg-quality-image-placeholders-基于svg的图像占位符" class="headerlink" title="4-4-3 使用sqip (svg quality image placeholders, 基于svg的图像占位符)"></a>4-4-3 使用sqip (svg quality image placeholders, 基于svg的图像占位符)</h4><ul><li>安装：<code>$ npm install sqip</code></li><li>源码：<a target="_blank" rel="noopener" href="https://github.com/axe312ger/sqip">https://github.com/axe312ger/sqip</a></li><li>index.js编码如下：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sqip = <span class="built_in">require</span>(<span class="string">&#x27;sqip&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> result = sqip(&#123;</span><br><span class="line">  filename: <span class="string">&#x27;./in.png&#x27;</span>,</span><br><span class="line">  numberOfPrimitives: <span class="number">10</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result.final_svg)</span><br></pre></td></tr></table></figure>打印结果为：<div><img src="08.jpg" alt="08" style="zoom:80%"></div>这样使用：<div><img src="09.jpg" alt="09" style="zoom:80%"></div>效果图对比如下：<div><img src="10.jpg" alt="10" style="zoom:80%"></div>比LQIP的效果能稍微好一点；而且SVG可以设置不同的大小。</li></ul><h3 id="4-5-真的需要图片吗"><a href="#4-5-真的需要图片吗" class="headerlink" title="4-5 真的需要图片吗?"></a>4-5 真的需要图片吗?</h3><ul><li>可以使用Web Font代替图片，比如小图标或切出来的业务图片，Web Font可以在不同的分辨率和不同的大小下进行特殊设置</li><li>可以使用Data URI代替图片，即base64图片，这样我们可以把base64代码用css文件的方式缓存到本地，就不用再请求图片内容了，直接走缓存即可</li><li>也可以采用Image Spriting（雪碧图）把多个小图片合成一张大图，这样用户在加载网页时，小图片的请求就被压成一个</li></ul><h2 id="5-图片优化-在服务器端进行图片自动优化的原理是什么"><a href="#5-图片优化-在服务器端进行图片自动优化的原理是什么" class="headerlink" title="5 图片优化: 在服务器端进行图片自动优化的原理是什么?"></a>5 图片优化: 在服务器端进行图片自动优化的原理是什么?</h2><h3 id="5-1-图片服务器自动优化解密"><a href="#5-1-图片服务器自动优化解密" class="headerlink" title="5-1 图片服务器自动优化解密"></a>5-1 图片服务器自动优化解密</h3><ul><li><p>名词解释：<br>图片服务器自动化优化是可以在图片URL链接上增加不同特殊参数，服务器自动化生成不同格式、大小、质量的图片。</p></li><li><p>处理方式：</p><ol><li>图片裁剪：按长边、短边、填充、拉伸等缩放</li><li>图片格式转换：支持JPG、GIF、PNG、WebP等，支持不同的图片压缩率</li><li>图片处理：添加图片水印、高斯模糊、重心处理、裁剪边框等</li><li>AI能力：鉴黄以及只能抠图、智能排版、智能配色、智能合成等AI功能</li></ol></li><li><p>请看下图：</p><img src="11.jpg" alt="11" style="zoom:70%"><p>这四种图片格式主要通过s参数展示，最后质量压缩比如我们可以添加!q10</p></li></ul><h2 id="6-html-怎么精简优化html的代码结构"><a href="#6-html-怎么精简优化html的代码结构" class="headerlink" title="6 html: 怎么精简优化html的代码结构?"></a>6 html: 怎么精简优化html的代码结构?</h2><h3 id="6-1-精简html代码"><a href="#6-1-精简html代码" class="headerlink" title="6-1 精简html代码"></a>6-1 精简html代码</h3><ul><li>减少HTML的嵌套</li><li>减少DOM节点数</li><li>减少无语义代码（比如：<code>&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;</code>消除浮动）</li><li>删除http或者https，如果URL的协议头和当前页面的协议头一致的，或者此URL在多个协议头都是可用的，则可以考虑删除协议头</li><li>删除多余的空格、换行符、缩进和不必要的注释，当然可以用压缩工具来处理</li><li>省略冗余标签和属性</li><li>使用相对路径的URL</li></ul><h3 id="6-2-文件放在合适的位置"><a href="#6-2-文件放在合适的位置" class="headerlink" title="6-2 文件放在合适的位置"></a>6-2 文件放在合适的位置</h3><ul><li>CSS样式文件链接尽量放在页面头部<br>CSS加载不会阻塞DOM Tree解析，但是会阻塞DOM Tree渲染，也会阻塞后面JS执行。任何body元素之前，可以确保在文档部分中解析了所有CSS样式（内联和外联），从而减少了浏览器必须重排文档的次数。如果放在页面底部，就要等待最后一个CSS文件下载完成，此时会出现“白屏”，影响用户体验。</li><li>JS引用放在HTML底部<br>防止JS的加载、解析、执行对阻塞页面后续元素的正常渲染</li></ul><h3 id="6-3-增强用户体验"><a href="#6-3-增强用户体验" class="headerlink" title="6-3 增强用户体验"></a>6-3 增强用户体验</h3><ul><li>设置favicon.ico<br>网站如果不设置favicon.icon，控制台会报错；<br>另外页面加载过程中地址栏左上角也没有图标loading过程；<br>同时也不利于记忆网站品牌，建议统一添加。</li><li>增加首屏必要的CSS和JS<br>页面如果需要等待所依赖的JS和CSS加载完成才显示，则在渲染过程中页面会一直显示空白，影响用户体验，建议增加首屏必要的CSS和JS，比如页面框架背景图片或者loading图标，内联在HTML页面中。这样做，首屏能快速显示出来，相对减少用户对页面加载等待过程。<br>比如新浪微博M站页面框架：<div><img src="12.jpg" alt="12" style="zoom:80%"></div></li></ul><h2 id="7-css-css的优化应该遵循哪些原则"><a href="#7-css-css的优化应该遵循哪些原则" class="headerlink" title="7 css: css的优化应该遵循哪些原则?"></a>7 css: css的优化应该遵循哪些原则?</h2><h3 id="7-1-提升css渲染性能"><a href="#7-1-提升css渲染性能" class="headerlink" title="7-1 提升css渲染性能"></a>7-1 提升css渲染性能</h3><ul><li>谨慎使用expensive属性<br>如<code>nth-child</code>伪类，<code>position:fixed</code>定位</li><li>尽量减少样式层级数，减少浏览器对CSS的查询<br>如<code>div ul li span i &#123;color:blue;&#125;</code></li><li>尽量避免使用占用过多CPU和内存的属性<br>如<code>text-indent:-99999px</code></li><li>尽量避免使用耗电量大的属性<br>如<code>CSS3 3D transforms</code>、<code>CSS3 transitions</code>、<code>Opacity</code></li></ul><h3 id="7-2-合适使用css选择器"><a href="#7-2-合适使用css选择器" class="headerlink" title="7-2 合适使用css选择器"></a>7-2 合适使用css选择器</h3><ul><li>尽量避免使用CSS表达式<br><code>background-color: expression(new Date().getHours()%2 ? &quot;#fff&quot; : &quot;#000&quot;)</code></li><li>尽量避免使用通配选择器<br><code>body &gt; a &#123;font-weight:bold;&#125;</code></li><li>尽量避免类正则的属性选择器<br><code>*=, |=, ^=, $=</code></li></ul><h3 id="7-3-提升css文件加载性能"><a href="#7-3-提升css文件加载性能" class="headerlink" title="7-3 提升css文件加载性能"></a>7-3 提升css文件加载性能</h3><ul><li>使用外链的CSS<br>因为可以把这个CSS放到CDN上，用户每次使用都会有缓存的，这样就减小整个页面体积的大小</li><li>尽量避免使用@import<br>因为只有所有import文件都加载完成才能往下走，会阻塞CSS文件甚至JS文件的加载</li></ul><h3 id="7-4-精简css代码"><a href="#7-4-精简css代码" class="headerlink" title="7-4 精简css代码"></a>7-4 精简css代码</h3><ul><li>使用缩写语句<br>如<code>margin-top:10px;margin-bottom:10px;</code>尽量写成<code>margin:10px 0;</code></li><li>删除不必要的零<br>比如<code>0.2em</code>直接写成<code>.2em</code>即可</li><li>删除不必要的单位，如px<br>比如<code>0px</code>直接写成<code>0</code>即可</li><li>删除过多的分号</li><li>删除空格和注释<br>以提升代码的可读性<br>总之，要尽量减少样式表的大小。</li></ul><h3 id="7-5-合理使用web-fonts"><a href="#7-5-合理使用web-fonts" class="headerlink" title="7-5 合理使用web fonts"></a>7-5 合理使用web fonts</h3><ul><li>将字体部署在CDN上<br>可以加快加载字体文件的速度</li><li>将字体以base64形式保存在CSS中并通过localStorage进行缓存</li><li>假如使用国外的字体库，如Google字体库，因为网络异常等某些不可抗原因不能正常加载，应该使用国内托管服务</li></ul><h3 id="7-6-css动画优化"><a href="#7-6-css动画优化" class="headerlink" title="7-6 css动画优化"></a>7-6 css动画优化</h3><ul><li>尽量避免同时动画</li><li>延迟动画初始化<br>可以保证其他CSS样式正常渲染</li><li>结合SVG</li></ul><h2 id="8-javascript-如何提升js的执行效率"><a href="#8-javascript-如何提升js的执行效率" class="headerlink" title="8 javascript: 如何提升js的执行效率?"></a>8 javascript: 如何提升js的执行效率?</h2><h3 id="8-1-js优化的总体原则"><a href="#8-1-js优化的总体原则" class="headerlink" title="8-1 js优化的总体原则"></a>8-1 js优化的总体原则</h3><ul><li>当需要时才优化<br>比如项目大的改版或代码无法维护时考虑整体优化</li><li>考虑可维护性<br>结合团队整体水平来优化</li></ul><h3 id="8-2-提升js文件的加载性能"><a href="#8-2-提升js文件的加载性能" class="headerlink" title="8-2 提升js文件的加载性能"></a>8-2 提升js文件的加载性能</h3><ul><li>加载元素的顺序：CSS文件放在<head>里，JS文件放在<body>底部</body></head></li></ul><h3 id="8-3-js变量和函数的优化"><a href="#8-3-js变量和函数的优化" class="headerlink" title="8-3 js变量和函数的优化"></a>8-3 js变量和函数的优化</h3><ul><li>尽量使用id选择器<br>这样在查询方面速度非常快</li><li>尽量避免使用eval<br>因为eval()方法非常好性能</li><li>JS函数尽可能保持简洁</li><li>使用事件节流函数<br>如100ms后才响应scroll和resize事件一次，就能大大提升函数的加载效率</li><li>使用事件委托<br>比如ul &gt; li元素，可以把事件直接绑定到父元素ul上，这样在事件响应时，就不会查询到每个li上，直接到它父级即可，这样能提升查询效率和事件的响应速度</li></ul><h3 id="8-4-js动画优化"><a href="#8-4-js动画优化" class="headerlink" title="8-4 js动画优化"></a>8-4 js动画优化</h3><ul><li>避免添加大量JS动画</li><li>尽量使用CSS3动画<br>因为CSS可以直接访问浏览器的GPU，比JS的性能好</li><li>尽量使用Canvas动画</li><li>合理使用requestAnimationFrame动画代替setTimeout、setInterval<br>因为requestAnimationFrame可以在正确的时间进行渲染，setTimeout(callback)和setInterval(callback)无法保证callback回调函数的执行时机</li><li>动画和事件尽量分离，不要耦合在一起</li></ul><h3 id="8-5-合理使用缓存"><a href="#8-5-合理使用缓存" class="headerlink" title="8-5 合理使用缓存"></a>8-5 合理使用缓存</h3><ul><li>合理缓存DOM对象<br>比如存到一个变量里</li><li>缓存列表长度<br>也是把多个相同的元素如li的长度取出来放到一个变量里</li><li>使用可缓存的Ajax<br>把Ajax的catch打开，提升调用接口的时间</li></ul><h2 id="9-javascript-如何对js的缓存进行优化"><a href="#9-javascript-如何对js的缓存进行优化" class="headerlink" title="9 javascript: 如何对js的缓存进行优化?"></a>9 javascript: 如何对js的缓存进行优化?</h2><h3 id="9-1-cookie"><a href="#9-1-cookie" class="headerlink" title="9-1 cookie"></a>9-1 cookie</h3><ul><li>Cookie通常由浏览器存储，然后将Cookie与每个后续请求一起发送到同一服务器。收到HTTP请求时，服务器可以发送带有Cookie的header头。可以给Cookie设置有效时间。</li><li>应用于：<ol><li>会话管理：登录名，购物车商品（如数量、id等），游戏得分或服务器应该要记录的其他任何内容</li><li>个性化：用户首选项，主题或其他设置（比如首页排版布局、其他个性化专栏）</li><li>跟踪：记录和分析用户行为，比如埋点（比如在每个页面用Cookie埋一个值即标识，每访问一个页面，这个标识都会带到下个页面，就可以加以利用了，如给用户定向推送广告）</li></ol></li></ul><h3 id="9-2-session-storage"><a href="#9-2-session-storage" class="headerlink" title="9-2 session storage"></a>9-2 session storage</h3><ul><li>它是创建一个本地存储的键/值对</li><li>应用于：页面之间传值</li><li>有效期：用户关闭浏览器，值就会被清空掉</li></ul><h3 id="9-3-indexed-db"><a href="#9-3-indexed-db" class="headerlink" title="9-3 indexed db"></a>9-3 indexed db</h3><ul><li>索引数据库</li><li>应用于：<ol><li>客户端存储大量结构化数据</li><li>在没有网络连接的情况下也可以使用（比如在线文档如Google Doc、石墨文档）</li><li>将冗余、很小修改、但经常访问的数据存储下来，以避免随时从服务器获取数据，减少请求数 <img src="13.jpg" alt="13" style="zoom:80%"></li></ol></li></ul><h3 id="9-4-local-storage"><a href="#9-4-local-storage" class="headerlink" title="9-4 local storage"></a>9-4 local storage</h3><ul><li>本地存储</li><li>有效期：浏览器关闭后存储其中的数据也还存在，除非手动或用程序清空</li><li>应用于：<ol><li>缓存静态文件内容JS/CSS（比如百度M站首页） <img src="14.jpg" alt="14" style="zoom:80%"><div style="margin-top:5px"><img src="15.jpg" alt="15" style="zoom:80%"></div>用户访问这个页面后，我们会把第一次访问时的JS/CSS文件放在localStorage，存储到本地，如果没有更新的话，用户下次访问时就不要再请求JS/CSS文件了，只要从localStorage中取，并塞进对应的style标签。<br>怎么更新呢？<br>每个文件后都有个@值，可以在每次上线更新完后给每个key值加个特殊参数，比如以文件的内容做md5值来进行添加，这样本地就存储了本次变更的JS/CSS文件信息，再把这个值放到页面上，就可以正常加载了。</li><li>缓存不常变更的API接口数据<br>比如一些固化的数据或者每天或每半天要更新的数据，都是可以存储到localStorage中去的，更新的话和上面类似，可以把接口数据的内容做个md5值，有变更后，它内容的md5也会有变更，那么我们就会重新请求变更后的数据，同时会存到localStorage中去，这样页面就可以加载得更快。</li><li>储存地理位置信息</li><li>浏览在页面的具体位置<br>比如一些阅读类的网站，可以存储当前用户阅读的屏数，下次再访问时就可以直接定位到上次浏览的终点位置。</li></ol></li></ul><h2 id="10-javascript-如何选择合适的模块化加载方案"><a href="#10-javascript-如何选择合适的模块化加载方案" class="headerlink" title="10 javascript: 如何选择合适的模块化加载方案?"></a>10 javascript: 如何选择合适的模块化加载方案?</h2><h3 id="10-1-js模块化加载方案和选型"><a href="#10-1-js模块化加载方案和选型" class="headerlink" title="10-1 js模块化加载方案和选型"></a>10-1 js模块化加载方案和选型</h3><h4 id="10-1-1-commonjs"><a href="#10-1-1-commonjs" class="headerlink" title="10-1-1 commonjs"></a>10-1-1 commonjs</h4><ul><li>旨在Web浏览器之外为JavaScript建立模块生态系统，它都是同步加载的<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// CommonJS</span></span><br><span class="line"><span class="comment">// 引入依赖</span></span><br><span class="line"><span class="keyword">var</span> store = <span class="built_in">require</span>(<span class="string">&#x27;store&#x27;</span>)</span><br><span class="line"><span class="comment">// exports</span></span><br><span class="line"><span class="built_in">exports</span> = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> store.get(<span class="string">&#x27;customers&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>Node.js模块化方案受到CommonJS的影响<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// NodeJS module</span></span><br><span class="line"><span class="comment">// 引入依赖</span></span><br><span class="line"><span class="keyword">var</span> store = <span class="built_in">require</span>(<span class="string">&#x27;store&#x27;</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">customerStore</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> store.get(<span class="string">&#x27;customers&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// exports</span></span><br><span class="line"><span class="built_in">module</span>.exports = customerStore</span><br></pre></td></tr></table></figure><blockquote><p>它与CommonJS的差异是，只能对外输出一个对象</p></blockquote></li></ul><h4 id="10-1-2-amd-asynchronous-module-definition"><a href="#10-1-2-amd-asynchronous-module-definition" class="headerlink" title="10-1-2 amd (asynchronous module definition)"></a>10-1-2 amd (asynchronous module definition)</h4><ul><li>它是异步模块定义规范，主要应用在浏览器上</li><li>比如RequireJS模块化加载器，就是基于AMD API实现的<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">data-main</span>=<span class="string">&quot;scripts/main&quot;</span> <span class="attr">src</span>=<span class="string">&quot;scripts/require.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>需要把它基础依赖的JS文件引入到项目中，这样才能异步调用其他模块JS的信息</li></ul><h4 id="10-1-3-cmd-common-module-definition"><a href="#10-1-3-cmd-common-module-definition" class="headerlink" title="10-1-3 cmd (common module definition)"></a>10-1-3 cmd (common module definition)</h4><ul><li>它是通用模块定义规范</li><li>比如SeaJS模块化加载器，遵循CMD API编写<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式一</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">require</span>, <span class="built_in">exports</span>, <span class="built_in">module</span></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 模块代码</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 方式二</span></span><br><span class="line">define(<span class="string">&#x27;module&#x27;</span>, [<span class="string">&#x27;module1&#x27;</span>, <span class="string">&#x27;module2&#x27;</span>], <span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">require</span>, <span class="built_in">exports</span>, <span class="built_in">module</span></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 模块代码</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h4 id="10-1-4-es6-import"><a href="#10-1-4-es6-import" class="headerlink" title="10-1-4 es6 import"></a>10-1-4 es6 import</h4><p>语法如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// square.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x * x</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; square &#125; <span class="keyword">from</span> <span class="string">&#x27;square&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(square(<span class="number">10</span>)) <span class="comment">// 100</span></span><br></pre></td></tr></table></figure><h2 id="11-怎样才能减少浏览器的回流和重绘"><a href="#11-怎样才能减少浏览器的回流和重绘" class="headerlink" title="11 怎样才能减少浏览器的回流和重绘?"></a>11 怎样才能减少浏览器的回流和重绘?</h2><h3 id="11-1-css方面"><a href="#11-1-css方面" class="headerlink" title="11-1 css方面"></a>11-1 css方面</h3><ul><li>避免过多样式嵌套</li><li>避免使用CSS表达式<br>因为CSS表达式每次都会在CSS重绘的过程中执行</li><li>使用绝对定位，可以让动画元素脱离文档流</li><li>避免使用table布局<br>因为table布局会引起浏览器的多次重绘</li><li>尽量不使用float布局<br>建议用flex布局</li><li>图片最好设置好width和height<br>否则等图片完全加载后，整个页面就会重新设置它的width和height值，而用户看到的就是一片空白区域逐渐增大的画面，体验不好。所以最好在html设置好</li><li>尽量简化浏览器不必要的任务，减少页面重新布局</li><li>使用Viewport设置屏幕缩放级别<br>这样浏览器在渲染过程中就可以直接缩放了</li><li>避免频繁设置样式，最好把新的style属性设置完成后，进行一次性更改</li><li>避免使用引起回流/重绘的属性，最好把相应的变量缓存起来</li></ul><h3 id="11-2-js方面"><a href="#11-2-js方面" class="headerlink" title="11-2 js方面"></a>11-2 js方面</h3><ul><li>最小化回流和重排<br>为了减少回流发生的次数，避免频繁操作DOM，可以合并多次对DOM修改，然后一次性批量处理。</li><li>控制绘制过程和绘制区域<br>绘制过程开销比较大的属性设置应该尽量避免减少使用<br>减少绘制区域范围 <img src="16.jpg" alt="16" style="zoom:80%"></li></ul><h2 id="12-dom编程优化-怎样控制dom大小并简化dom操作"><a href="#12-dom编程优化-怎样控制dom大小并简化dom操作" class="headerlink" title="12 dom编程优化: 怎样控制dom大小并简化dom操作?"></a>12 dom编程优化: 怎样控制dom大小并简化dom操作?</h2><h3 id="12-1-控制dom的大小"><a href="#12-1-控制dom的大小" class="headerlink" title="12-1 控制dom的大小"></a>12-1 控制dom的大小</h3><ul><li>众所周知，页面交互卡顿和流畅度很大一部分原因就是页面有大量DOM元素。另外元素绑定事件，事件冒泡和事件捕获的执行也会相对耗时。</li><li>通常控制DOM大小的技巧包括：<ol><li>合理的业务逻辑<br>把业务逻辑进行合理得拆分，每实现一个业务逻辑尽量减少DOM树的数量</li><li>延迟加载即将呈现的内容（懒加载）</li></ol></li></ul><h3 id="12-2-简化dom的操作"><a href="#12-2-简化dom的操作" class="headerlink" title="12-2 简化dom的操作"></a>12-2 简化dom的操作</h3><ul><li>对DOM节点的操作统一处理后，再统一插入到DOM Tree中。</li><li>可以使用fragment，尽量不在页面DOM Tree里直接操作。<br>把DOM节点的样式、内容统一设置好，最后再放到页面中。</li><li>现在流行的框架Angular、React、Vue都在使用虚拟DOM技术，通过diff算法简化和减少DOM操作。</li></ul><h2 id="13-静态文件-有哪些常用的压缩工具"><a href="#13-静态文件-有哪些常用的压缩工具" class="headerlink" title="13 静态文件: 有哪些常用的压缩工具?"></a>13 静态文件: 有哪些常用的压缩工具?</h2><h3 id="13-1-html压缩工具"><a href="#13-1-html压缩工具" class="headerlink" title="13-1 html压缩工具"></a>13-1 html压缩工具</h3><p style="text-indent:2em">html-minifier [https://www.npmjs.com/package/html-minifier](https://www.npmjs.com/package/html-minifier)</p><p>它可以删除一些html的换行、注释等其他不必要的字符，压缩后，html源代码由很多行变成一行，体积变小了。</p><h3 id="13-2-css压缩工具"><a href="#13-2-css压缩工具" class="headerlink" title="13-2 css压缩工具"></a>13-2 css压缩工具</h3><p style="text-indent:2em">clean-css [https://www.npmjs.com/package/clean-css](https://www.npmjs.com/package/clean-css)</p><h3 id="13-3-js压缩工具"><a href="#13-3-js压缩工具" class="headerlink" title="13-3 js压缩工具"></a>13-3 js压缩工具</h3><ul><li>uglify-js <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/uglify-js">https://www.npmjs.com/package/uglify-js</a></li><li>使用方法：uglifyjs in.js -o out.js</li></ul><h2 id="14-静态文件-怎样打包才更合理"><a href="#14-静态文件-怎样打包才更合理" class="headerlink" title="14 静态文件: 怎样打包才更合理?"></a>14 静态文件: 怎样打包才更合理?</h2><h3 id="14-1-静态文件打包方案"><a href="#14-1-静态文件打包方案" class="headerlink" title="14-1 静态文件打包方案"></a>14-1 静态文件打包方案</h3><ul><li>公共组件拆分<br>把公用的js文件抽离成组件，其他页面直接调用它即可，这样当用户访问时，js文件的大小比较少，而且公用的这部分在其他页面也不需要再加载了，直接走CDN的缓存即可。</li><li>压缩：JS/CSS/图片</li><li>合并：JS/CSS文件合并，CSS Sprite图</li><li>Combo：JS/CSS文件 Combo <a target="_blank" rel="noopener" href="http://cdn.com/??a.js,b.js">http://cdn.com/??a.js,b.js</a> 内容（建议√）<br>它是服务端处理的方式，比如在url后加个?a.js,b.js，这样用户在请求这个url时，服务端会把a.js和b.js自动合成，所以在请求页面时，无论有多个js文件，只发一次请求就可以了，大大减少了整个页面的请求数，并且是在服务器端重载处理，减少了前端开发成本。</li></ul><h2 id="15-静态文件-版本号更新-你应该遵循哪些策略"><a href="#15-静态文件-版本号更新-你应该遵循哪些策略" class="headerlink" title="15 静态文件: 版本号更新, 你应该遵循哪些策略?"></a>15 静态文件: 版本号更新, 你应该遵循哪些策略?</h2><h3 id="15-1-缓存更新"><a href="#15-1-缓存更新" class="headerlink" title="15-1 缓存更新"></a>15-1 缓存更新</h3><p style="text-indent:2em">CDN或ng后台刷新文件路径，这样后台通过shell脚本，就会更新文件header头，等这次缓存时间过期后，用户就会请求到最新的文件内容。</p><h3 id="15-2-静态文件版本号更新策略"><a href="#15-2-静态文件版本号更新策略" class="headerlink" title="15-2 静态文件版本号更新策略"></a>15-2 静态文件版本号更新策略</h3><p>​ 但是上面那样存在一个问题：比如项目已经上线或者发现一个bug，但用户看到的还是旧文件，所以需要下面的几种方式来解决：</p><ol><li>文件name.v1-v100.js，即在文件name后加个版本号<ul><li>为了区分每次的功能不一样，我们可以在大功能迭代上每次增加一个大版本，比如由v1到v2;</li><li>而小功能迭代新增加0.0.1或者0.1.0，比如从v1.0.0至v1.0.1，更新完后，把新的url路径更新到线上，这样用户打开页面就能立马取到最新的文件内容。</li><li>隔一段时间后，线上会有n多个版本的文件，怎么处理呢？<br>可以在年末时，ng统一配置所有版本302至最新版。</li></ul></li><li>时间戳.文件name.js<ul><li>以每次上线时间点做差异</li><li>我们在实际研发中，为了省事，可能也会把一个项目的目录定义成这样进行区分</li></ul></li><li>文件hash.文件name.js（这是最好的方式）<ul><li>以文件内容hash值做key，放到url后。当内容变更，这个hash值也会改变，而内容不变，hash值也不会变，这样就保证了用户只对更新的文件更新缓存</li><li>每次上线，文件路径不一致</li></ul></li></ol><h2 id="16-构建工具-常用的前端构建工具有哪些-如何选型"><a href="#16-构建工具-常用的前端构建工具有哪些-如何选型" class="headerlink" title="16 构建工具: 常用的前端构建工具有哪些? 如何选型?"></a>16 构建工具: 常用的前端构建工具有哪些? 如何选型?</h2><h3 id="16-1-grunt"><a href="#16-1-grunt" class="headerlink" title="16-1 grunt"></a>16-1 grunt</h3><ul><li>出现得最早，一个项目需要定制多个小任务和引用多个插件（质量参差不齐）</li><li>它给前端以通过JavaScript写shell脚本的方式进行处理开发过程中的一些代码压缩、合并等事情</li></ul><h3 id="16-2-gulp"><a href="#16-2-gulp" class="headerlink" title="16-2 gulp"></a>16-2 gulp</h3><ul><li>通过流（stream）来简化多个任务间的配置和输出</li><li>配置代码相对较少</li></ul><h3 id="16-3-webpack"><a href="#16-3-webpack" class="headerlink" title="16-3 webpack"></a>16-3 webpack</h3><ul><li>采用预编译，我们需要编译的文件在整个任务的过程中已经处理好了</li><li>中间文件（如缓存文件）都放在内存里处理，比另外放在一个缓存目录有很大的优势</li><li>支持多种模块化，比如CommonJS、AMD、ES6 Import</li><li>配置相对简单</li><li>综合对比，它是最流行的。</li></ul><h3 id="16-4-百度的fis"><a href="#16-4-百度的fis" class="headerlink" title="16-4 百度的fis"></a>16-4 百度的fis</h3><h3 id="16-5-京东的jdf"><a href="#16-5-京东的jdf" class="headerlink" title="16-5 京东的jdf"></a>16-5 京东的jdf</h3><p>以此为例，详细介绍构建工具具体怎么研发，它的内核是什么样的，以及它具体怎么来使用：<br>待续……</p><h2 id="17-打包优化-提升webpack打包效率的6个小技巧"><a href="#17-打包优化-提升webpack打包效率的6个小技巧" class="headerlink" title="17 打包优化: 提升webpack打包效率的6个小技巧"></a>17 打包优化: 提升webpack打包效率的6个小技巧</h2><h3 id="17-1-定位体积大的模块"><a href="#17-1-定位体积大的模块" class="headerlink" title="17-1 定位体积大的模块"></a>17-1 定位体积大的模块</h3><p style="text-indent:2em">定位后，把这个大模块进行一一拆解或删除</p><h3 id="17-2-删除没有使用的依赖"><a href="#17-2-删除没有使用的依赖" class="headerlink" title="17-2 删除没有使用的依赖"></a>17-2 删除没有使用的依赖</h3><p style="text-indent:2em">之前在使用的依赖，后来经过迭代后依赖不存在了，就可以把它删除掉</p><h3 id="17-3-生产模式进行公共依赖包抽离"><a href="#17-3-生产模式进行公共依赖包抽离" class="headerlink" title="17-3 生产模式进行公共依赖包抽离"></a>17-3 生产模式进行公共依赖包抽离</h3><p style="text-indent:2em">比如我们依赖的vue或react框架，可以把这些框架的文件通过打包的形式拿出来，放到页面上。这有什么好处呢？</p><p style="text-indent:2em">比如我们有n个业务线，同时都依赖于vue2.0的某个包，我们抽离完放在页面上，其他用户访问到A业务后再访问其他业务，这样vue的包文件不会重新加载，只需要加载业务文件即可。这样就能加速整个页面的访问，并且能够实现各个业务线的公共文件的抽离。</p><h3 id="17-4-在开发模式进行dll和dllreference方式优化"><a href="#17-4-在开发模式进行dll和dllreference方式优化" class="headerlink" title="17-4 在开发模式进行dll和dllreference方式优化"></a>17-4 在开发模式进行dll和dllreference方式优化</h3><ul><li><p>我们在开发中可能依赖一些react或react router或者其他的公共的react组件，在开发中这些组件甚至react本身都要编译到内存中，我们采用这种方式，就不用每次在有代码变更时再次对react或它的框架进行编译了。这种方式能提升开发时间和效率。</p><p>接下来看下在实际生产和开发环境中，webpack怎么配置才能进行优化？</p></li><li><p>webpack.dev.dll.js：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> webpack <span class="keyword">from</span> <span class="string">&#x27;webpack&#x27;</span></span><br><span class="line"><span class="keyword">const</span> appRoot = path.join(__dirname, <span class="string">&#x27;../&#x27;</span>)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    mode: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    entry: &#123;</span><br><span class="line">        vendor: [</span><br><span class="line">            <span class="string">&#x27;react&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;react-dom&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;react-redux&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;react-router-dom&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;react-transition-group&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;redux&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;redux-logger&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;redux-saga&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;immutable&#x27;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.join(appRoot, <span class="string">&#x27;public&#x27;</span>, <span class="string">&#x27;dll&#x27;</span>),</span><br><span class="line">        filename: <span class="string">&#x27;[name].dll.js&#x27;</span>,</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * output.library</span></span><br><span class="line"><span class="comment">     * 将会定义为 window.$&#123;output.library&#125;</span></span><br><span class="line"><span class="comment">     * 在这次的例子中，将会定义为`window.vendorLibrary`</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">        library: <span class="string">&#x27;[name]Library&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.DllPlugin(&#123;</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * path</span></span><br><span class="line"><span class="comment">       * 定义manifest文件生成的位置</span></span><br><span class="line"><span class="comment">       * [name]的部分由entry的名字替换</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">            path: path.join(appRoot, <span class="string">&#x27;public&#x27;</span>, <span class="string">&#x27;dll&#x27;</span>, <span class="string">&#x27;[name]-manifest.json&#x27;</span>),</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * name</span></span><br><span class="line"><span class="comment">       * dll bundle 输出到那个全局变量上</span></span><br><span class="line"><span class="comment">       * 和 output.library 一样即可</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">            name: <span class="string">&#x27;[name]Library&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p style="text-indent:2em">在入口entry里面，像react、react-dom、redux、history、immutable这样的组件在开发阶段最终会生成一个dll.js文件（output.filename），以及中间会产生一个配置的文件path: path.join(appRoot, 'public', 'dll', '[name]-manifest.json')（在plugins中），在开发阶段webpack就不会每次都重新编译这些依赖的库文件了，只要在manifest里面或者上面的入口里面写完后，就可以直接在内存里读取它的内容，同时它会把打成的包文件挂到window下面的vendorLibrary这个变量上面，页面就可以直接使用了。</p></blockquote></li><li><p>webpack.dev.js：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> cssnano = <span class="built_in">require</span>(<span class="string">&#x27;cssnano&#x27;</span>) <span class="comment">// 优化css，对于长格式优化成短格式等</span></span><br><span class="line"><span class="keyword">const</span> autoprefixer = <span class="built_in">require</span>(<span class="string">&#x27;autoprefixer&#x27;</span>)</span><br><span class="line"><span class="comment">// 修复flexbox已知的bug</span></span><br><span class="line"><span class="keyword">const</span> flexbugs = <span class="built_in">require</span>(<span class="string">&#x27;postcss-flexbugs-fixes&#x27;</span>)</span><br><span class="line"><span class="comment">// 根目录上下文</span></span><br><span class="line"><span class="keyword">const</span> &#123; URL_CONTEXT &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../common/constants&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> hotMiddlewareScript = <span class="string">&#x27;webpack-hot-middleware/client?path=/__webpack_hmr&amp;timeout=20000&amp;reload=true&#x27;</span></span><br><span class="line"><span class="keyword">const</span> appRoot = path.resolve(__dirname, <span class="string">&#x27;../&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> appPath = path.resolve(appRoot, <span class="string">&#x27;public&#x27;</span>)</span><br><span class="line"><span class="comment">// webpack config</span></span><br><span class="line"><span class="keyword">const</span> webpackConfig = &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * 生产下默认设置以下插件，webpack 4中，一些插件放在optimization中设置</span></span><br><span class="line"><span class="comment">       * https://webpack.js.org/concepts/mode</span></span><br><span class="line"><span class="comment">       * - plugins: [</span></span><br><span class="line"><span class="comment">       * - new webpack.NamedModulesPlugin(),</span></span><br><span class="line"><span class="comment">       * - new webpack.DefinePlugin(&#123; &quot;process.env.NODE_ENV&quot;: JSON.stringify(&quot;development&quot;) &#125;)</span></span><br><span class="line"><span class="comment">       * - ]</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">    mode: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    cache: <span class="literal">true</span>, <span class="comment">// 开启缓存，增量编译</span></span><br><span class="line">    bail: <span class="literal">false</span>, <span class="comment">// 设为true时如果发生错误，则不继续尝试</span></span><br><span class="line">    devtool: <span class="string">&#x27;eval-source-map&#x27;</span>, <span class="comment">// 生成source map文件</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * Specify what bundle information gets displayed</span></span><br><span class="line"><span class="comment">       * https://webpack.js.org/configuration/stats/</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">    stats: &#123;</span><br><span class="line">        cached: <span class="literal">true</span>, <span class="comment">// 显示缓存信息</span></span><br><span class="line">        cachedAssets: <span class="literal">true</span>, <span class="comment">// 显示缓存的资源（将其设置为`false`则仅显示输出的文件）</span></span><br><span class="line">        chunks: <span class="literal">true</span>, <span class="comment">// 显示chunk信息（设置为`false`仅显示较少的输出）</span></span><br><span class="line">        chunkModules: <span class="literal">true</span>, <span class="comment">// 将构建模块信息添加到chunk信息</span></span><br><span class="line">        colors: <span class="literal">true</span>,</span><br><span class="line">        hash: <span class="literal">true</span>, <span class="comment">// 显示编译后的hash值</span></span><br><span class="line">        modules: <span class="literal">true</span>, <span class="comment">// 显示构建模块信息</span></span><br><span class="line">        reasons: <span class="literal">true</span>, <span class="comment">// 显示被导入的模块信息</span></span><br><span class="line">        timings: <span class="literal">true</span>, <span class="comment">// 显示构建时间信息</span></span><br><span class="line">        version: <span class="literal">true</span> <span class="comment">// 显示webpack版本信息</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * https://webpack.js.org/configuration/target/#target</span></span><br><span class="line"><span class="comment">       * webpack能够为多种环境构建编译，默认是&#x27;web&#x27;，可省略</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">    target: <span class="string">&#x27;web&#x27;</span>,</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        <span class="comment">// 自动扩展文件后缀名</span></span><br><span class="line">        extensions: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.scss&#x27;</span>, <span class="string">&#x27;.css&#x27;</span>, <span class="string">&#x27;.png&#x27;</span>, <span class="string">&#x27;.jpg&#x27;</span>, <span class="string">&#x27;.gif&#x27;</span>],</span><br><span class="line">        <span class="comment">// 模块别名定义，方便直接引用别名</span></span><br><span class="line">        alias: &#123;&#125;,</span><br><span class="line">        <span class="comment">// 参与编译的文件</span></span><br><span class="line">        modules: [<span class="string">&#x27;client&#x27;</span>, <span class="string">&#x27;node_modules&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * 入口文件，让webpack用哪个文件作为项目的入口</span></span><br><span class="line"><span class="comment">       * 如果用到了新的es6 api，需要引入babel-polyfill，比如String.prototype中的方法includes</span></span><br><span class="line"><span class="comment">       * 所以根据实际需要是否引入babel-polyfill</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">    entry: &#123;</span><br><span class="line">        index: [<span class="string">&#x27;./client/pages/index.js&#x27;</span>, hotMiddlewareScript]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 出口，让webpack把处理完成的文件放在那里</span></span><br><span class="line">    output: &#123;&#125;,</span><br><span class="line">    <span class="comment">// module处理</span></span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * Make missing exports an error instead of warning</span></span><br><span class="line"><span class="comment">         * 缺少exports时报错，而不是警告</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        strictExportPresence: <span class="literal">true</span>,</span><br><span class="line">        rules: [</span><br><span class="line">            <span class="comment">// https://github.com/MoOx/eslint-loader</span></span><br><span class="line">            &#123;</span><br><span class="line">                enforce: <span class="string">&#x27;pre&#x27;</span>,</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: <span class="string">&#x27;eslint-loader&#x27;</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        configFile: <span class="string">&#x27;.eslintrc.js&#x27;</span>,</span><br><span class="line">                        <span class="comment">// 验证失败，终止</span></span><br><span class="line">                        emitError: <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        cacheDirectory: <span class="literal">true</span>,</span><br><span class="line">                        babelrc: <span class="literal">false</span>,</span><br><span class="line">                        presets: [],</span><br><span class="line">                        plugins: []</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            sourceMap: <span class="literal">true</span>,</span><br><span class="line">                            localIdentName: <span class="string">&#x27;[name]_[local]_[hash:base64:5]&#x27;</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">&#x27;postcss-loader&#x27;</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            sourceMap: <span class="literal">true</span>,</span><br><span class="line">                            plugins: [</span><br><span class="line">                                cssnano(&#123;</span><br><span class="line">                                    autoprefixer: <span class="literal">false</span></span><br><span class="line">                                &#125;),</span><br><span class="line">                                flexbugs(),</span><br><span class="line">                                autoprefixer(&#123;</span><br><span class="line">                                    flexbox: <span class="string">&#x27;no-2009&#x27;</span></span><br><span class="line">                                &#125;)</span><br><span class="line">                            ]</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                <span class="comment">// publicPath: &#x27;/public/dist/&#x27; 这里如设置会覆盖output中的publicPath</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">           * Rules for images</span></span><br><span class="line"><span class="comment">           * https://webpack.js.org/configuration/module/#rule-oneof</span></span><br><span class="line"><span class="comment">           */</span></span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.(bmp|gif|jpe?g|png|svg)$/</span>,</span><br><span class="line">                oneOf: [</span><br><span class="line">                    <span class="comment">// 在css中的图片处理</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        issuer: <span class="regexp">/\.(css|less|scss)$/</span>, <span class="comment">// issuer表示在这些文件中处理</span></span><br><span class="line">                        oneOf: [</span><br><span class="line">                            <span class="comment">// svg 单独使用svg-url-loaderInline处理，编码默认为utf-8</span></span><br><span class="line">                            &#123;</span><br><span class="line">                                test: <span class="regexp">/\.svg$/</span>,</span><br><span class="line">                                loader: <span class="string">&#x27;svg-url-loader&#x27;</span>,</span><br><span class="line">                                exclude: path.resolve(</span><br><span class="line">                                    appRoot,</span><br><span class="line">                                    <span class="string">&#x27;./client/scss/common/_iconfont.scss&#x27;</span></span><br><span class="line">                                ), <span class="comment">// 除去字体文件</span></span><br><span class="line">                                options: &#123;</span><br><span class="line">                                    name: <span class="string">&#x27;[path][name].[ext]?[hash:8]&#x27;</span>,</span><br><span class="line">                                    limit: <span class="number">4096</span> <span class="comment">// 4kb</span></span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="comment">/**</span></span><br><span class="line"><span class="comment">                   * 其他图片使用Base64</span></span><br><span class="line"><span class="comment">                   * https://github.com/webpack/url-loader</span></span><br><span class="line"><span class="comment">                   */</span></span><br><span class="line">                            &#123;</span><br><span class="line">                                loader: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">                                options: &#123;</span><br><span class="line">                                    name: <span class="string">&#x27;[path][name].[ext]?[hash:8]&#x27;</span>,</span><br><span class="line">                                    limit: <span class="number">4096</span> <span class="comment">// 4kb</span></span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="comment">// 在其他地方引入的图片文件使用file-loader即可</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            name: <span class="string">&#x27;[path][name].[ext]?[hash:8]&#x27;</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// https://webpack.js.org/configuration/mode/#mode-development</span></span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.HotModuleReplacementPlugin() <span class="comment">// 热部署替换模块</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 判断dll文件是否已生成</span></span><br><span class="line"><span class="keyword">let</span> dllExist = <span class="literal">false</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    fs.statSync(path.resolve(appPath, <span class="string">&#x27;dll&#x27;</span>, <span class="string">&#x27;webdor.dll.js&#x27;</span>))</span><br><span class="line">    dllExist = <span class="literal">true</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    dllExist = <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(dllExist) &#123;</span><br><span class="line">    webpackConfig.plugins.push(</span><br><span class="line">        <span class="keyword">new</span> webpack.DllReferencePlugin(&#123;</span><br><span class="line">            context: appPath,</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">           * 在这里引入manifest文件</span></span><br><span class="line"><span class="comment">           */</span></span><br><span class="line">            manifest: <span class="built_in">require</span>(<span class="string">&#x27;../public/dll/vendor-manifest.json&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = webpackConfig</span><br></pre></td></tr></table></figure><blockquote><p style="text-indent:2em">可以把入口文件写在了最上面，在module里对它的eslint进行检查，当然也包括像babel对es6语法的编译，以及css-loader的相关配置，还会有postcss的编译的处理，还可以对字体文件的大小进行处理（limit:4096），也可以对base64编码的图片进行体积的控制。</p><p style="text-indent:2em">在dev.dll.js文件生成完后，也要在dev开发模式的阶段进行一些引入，把刚才生成的vendor-manifest文件进行引入，这样我们那些包文件就不会进行编译了。</p></blockquote></li></ul><h1 id="第三章-页面渲染架构设计与性能优化"><a href="#第三章-页面渲染架构设计与性能优化" class="headerlink" title="第三章 页面渲染架构设计与性能优化"></a>第三章 页面渲染架构设计与性能优化</h1><h2 id="18-浏览器渲染-你是否清楚浏览器的渲染过程"><a href="#18-浏览器渲染-你是否清楚浏览器的渲染过程" class="headerlink" title="18 浏览器渲染: 你是否清楚浏览器的渲染过程?"></a>18 浏览器渲染: 你是否清楚浏览器的渲染过程?</h2><div style="padding-left:5px"><img src="17.jpg" alt="17" style="zoom:80%"></div><ul><li><strong>step1</strong> 浏览器解析HTML，生成DOM Tree（Parse HTML）</li><li><strong>step2</strong> 浏览器解析CSS，生成CSSOM（CSS Object Model）Tree</li><li><strong>step3</strong> JavaScript会通过DOM API和CSSOM API来操作DOM Tree和CSS Rule Tree，浏览器将DOM Tree和CSSOM Tree合成渲染树（Render Tree）</li><li><strong>step4</strong> 布局（Layout）：根据生成的Render Tree，进行回流，以计算每个节点的几何信息（位置、大小、字体样式等）</li><li><strong>step5</strong> 绘制（Painting）：根据渲染树和回流得到的几何信息，得到每个节点的绝对像素</li><li><strong>step6</strong> 展示（Display）：将像素发送给图形处理器（GPU），展示在页面上</li></ul><h2 id="19-页面渲染-主流的页面渲染技术架构和方案有哪些"><a href="#19-页面渲染-主流的页面渲染技术架构和方案有哪些" class="headerlink" title="19 页面渲染: 主流的页面渲染技术架构和方案有哪些?"></a>19 页面渲染: 主流的页面渲染技术架构和方案有哪些?</h2><h3 id="19-1-服务端渲染"><a href="#19-1-服务端渲染" class="headerlink" title="19-1 服务端渲染"></a>19-1 服务端渲染</h3><p>​ 即在服务器渲染，然后在客户端进行展示，比如：</p><ul><li>后端同步渲染，指的是JSP、PHP等后端语言渲染，也可以用Node.js的Node Server进行渲染</li><li>同构直出</li><li>BigPipe</li></ul><h3 id="19-2-客户端渲染"><a href="#19-2-客户端渲染" class="headerlink" title="19-2 客户端渲染"></a>19-2 客户端渲染</h3><ul><li>JavaScript渲染：静态化、前后端分离、单页面应用，即我们的NSPA</li><li>Web App：它与JS不一样的地方是，它是单页面的，比如Angular、React、Vue等三大框架渲染的页面，另外还有PWA这种新技术</li><li>原生App：IOS、Android</li><li>Hybrid App（混合式开发app）：PhoneGap、AppCan等框架，当然我们的大型app里也会有自己的hybrid设置</li><li>跨平台开发：React Native、Flutter、小程序等，采用这些语言用桥接的方式获取原生渲染的方式</li></ul><h2 id="20-后端同步渲染-jsp是如何同步渲染出页面的"><a href="#20-后端同步渲染-jsp是如何同步渲染出页面的" class="headerlink" title="20 后端同步渲染: jsp是如何同步渲染出页面的?"></a>20 后端同步渲染: jsp是如何同步渲染出页面的?</h2><h3 id="20-1-同步渲染步骤-以jsp为例"><a href="#20-1-同步渲染步骤-以jsp为例" class="headerlink" title="20-1 同步渲染步骤 (以jsp为例)"></a>20-1 同步渲染步骤 (以jsp为例)</h3><ul><li><strong>step1</strong> JSP Servlet映射以.jsp结尾的URL，当.jsp文件请求时，servlet容器知道要调用哪个Servlet</li><li><strong>step2</strong> Servlet容器检查Servlet是否已被编译</li><li><strong>step3</strong> 如果未在步骤2中进行编译，则Servlet容器会将JSP转换为Servlet代码，并进行编译</li><li><strong>step4</strong> Servlet容器将JSP请求转发到编译JSP Servlet类</li><li><strong>step5</strong> JSP Servlet类返回并发送给客户端浏览器HTML，浏览器进行同步渲染</li><li>特别提出一点：我们整个包括取得后端业务的逻辑、数据库的信息和业务的处理，都是在JSP Servlet里处理完了，这时候给用户的才是正常看到的内容。</li></ul><h3 id="20-2-技术优点"><a href="#20-2-技术优点" class="headerlink" title="20-2 技术优点"></a>20-2 技术优点</h3><p>快速实现业务开发并上线，因为：</p><ol><li>市场上JSP和PHP技术人员较多</li><li>JSP和PHP发展了这么多年了，他的整个技术栈和编译的工具都是比较现成的，整个技术框架也是比较现成的，只要找到这样的人，拿到现成的技术栈，就能快速实现我们的业务</li></ol><h3 id="20-3-技术不足"><a href="#20-3-技术不足" class="headerlink" title="20-3 技术不足"></a>20-3 技术不足</h3><ul><li>需要先实现业务逻辑和功能，再输出HTML内容给浏览器，用户需等待HTML页面完全加载之后才能看到页面内容。<br>因为取数据和展示的过程都是比较耗时的，因为需要把过程中所有的业务全部实现、取到数据库的数据，然后展示到页面上，用户等待JSP Servlet编译的时间比较长，包括一些白页的情况也可能出现。</li><li>代码耦合严重，不太好区分业务逻辑和页面模板。</li><li>需求变更上线周期相对较长。<br>一般情况下，前端工程师写的静态html，JSP工程师用它把页面进行嵌套，嵌套完成后再进行Servlet编译，再给浏览器进行渲染。所以来了新需求后，前端必须重新写模板、切页面，再给JSP工程师把页面套进去，然后再上线。</li></ul><h3 id="20-4-协作方式"><a href="#20-4-协作方式" class="headerlink" title="20-4 协作方式"></a>20-4 协作方式</h3><p style="text-indent:2em">前端出静态页面，后端套页面</p><h3 id="20-5-选型建议"><a href="#20-5-选型建议" class="headerlink" title="20-5 选型建议"></a>20-5 选型建议</h3><p style="text-indent:2em">如果是创业初期验证阶段，或者20个研发人员以内的项目，为了满足业务快速验证并一天内多次上线，技术选型上使用服务端同步渲染没有任何问题，一人字就是“快”。</p><h3 id="20-6-协作力器"><a href="#20-6-协作力器" class="headerlink" title="20-6 协作力器"></a>20-6 协作力器</h3><ul><li><p>jSmart</p></li><li><p>Velocity.js</p><blockquote><p>这两种都是前端写模板，给后端直接上线即可。</p></blockquote></li></ul><h2 id="21-页面静态化-动态页面静态化要如何实施"><a href="#21-页面静态化-动态页面静态化要如何实施" class="headerlink" title="21 页面静态化: 动态页面静态化要如何实施?"></a>21 页面静态化: 动态页面静态化要如何实施?</h2><h3 id="21-1-静态化定义"><a href="#21-1-静态化定义" class="headerlink" title="21-1 静态化定义"></a>21-1 静态化定义</h3><ul><li>静态化是使动态化的网站生成静态HTML页面以供用户</li></ul><p>未完待续……</p></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/" title="前端全链路性能优化实战" target="_blank" rel="external">https://scarlett9354.github.io/2021/04/29/%E5%89%8D%E7%AB%AF%E5%85%A8%E9%93%BE%E8%B7%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E6%88%98/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！</li></ul></blockquote><div class="panel panel-default panel-badger"><div class="panel-body"><figure class="media"><div class="media-left"><a href="https://github.com/scarlett9354" target="_blank" class="img-burn thumb-sm visible-lg"><img src="/images/avatar.jpg" class="img-rounded w-full" alt=""></a></div><div class="media-body"><h3 class="media-heading"><a href="https://github.com/scarlett9354" target="_blank"><span class="text-dark">月亮和水蜜桃</span><small class="ml-1x"></small></a></h3><div>个人简介。</div></div></figure></div></div></div></article><section id="comments"><div id="vcomments"></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/2021/05/08/vue2-0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="vue2.0学习笔记"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a></li><li class="next"><a href="/2021/04/29/Node-js%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/" title="Node.js开发实战"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a></li></ul><button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button><div class="bar-right"><div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div></div></div></nav><div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content donate"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-body"><div class="donate-box"><div class="donate-head"><p>感谢您的支持，我会继续努力的!</p></div><div class="tab-content"><div role="tabpanel" class="tab-pane fade active in" id="alipay"><div class="donate-payimg"><img src="/images/donate/alipayimg.jpg" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">扫码打赏，你说多少就多少</p><p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p></div><div role="tabpanel" class="tab-pane fade" id="wechatpay"><div class="donate-payimg"><img src="/images/donate/wechatpayimg.jpg" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">扫码打赏，你说多少就多少</p><p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p></div></div><div class="donate-footer"><ul class="nav nav-tabs nav-justified" role="tablist"><li role="presentation" class="active"><a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a></li><li role="presentation"><a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a></li></ul></div></div></div></div></div></div></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/scarlett9354" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li></ul><div class="copyright"><div class="publishby">Theme by <a href="https://github.com/scarlett9354" target="_blank">cofess </a>base on <a href="https://github.com/scarlett9354" target="_blank">pure</a>.</div></div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"分类",TAGS:"标签",UNTITLED:"(未命名)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script type="text/javascript">var GUEST=["nick","mail","link"],meta=(meta="nick,mail,link").split(",").filter(function(e){return-1<GUEST.indexOf(e)});new Valine({el:"#vcomments",verify:!1,notify:!1,appId:"CGfXhVCqWm4TdYv6umPBwwxl-gzGzoHsz",appKey:"HiydsvsidPpjPqThgYUNvepU",placeholder:"Just go go",avatar:"mm",meta:meta,pageSize:"10",visitor:!1})</script></body></html>